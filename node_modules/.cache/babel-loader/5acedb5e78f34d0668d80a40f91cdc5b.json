{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Huda\\\\Downloads\\\\client\\\\src\\\\Record.js\";\nimport React from \"react\";\nimport MicRecorder from \"mic-recorder-to-mp3\";\nimport { Button } from \"reactstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Mp3Recorder = new MicRecorder({\n  bitRate: 128\n});\n\nclass Record extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.start = () => {\n      if (this.state.isBlocked) {\n        console.log(\"Permission Denied\");\n      } else {\n        Mp3Recorder.start().then(() => {\n          this.setState({\n            isRecording: true\n          });\n        }).catch(e => console.error(e));\n      }\n    };\n\n    this.stop = () => {\n      Mp3Recorder.stop().getMp3().then(_ref => {\n        let [buffer, blob] = _ref;\n        const blobURL = URL.createObjectURL(blob);\n        this.setState({\n          blobURL,\n          isRecording: false\n        });\n      }).catch(e => console.log(e));\n    };\n\n    this.state = {\n      isRecording: false,\n      blobURL: \"\",\n      isBlocked: false\n    };\n  }\n\n  componentDidMount() {\n    navigator.getUserMedia({\n      audio: true\n    }, () => {\n      console.log(\"Permission Granted\");\n      this.setState({\n        isBlocked: false\n      });\n    }, () => {\n      console.log(\"Permission Denied\");\n      this.setState({\n        isBlocked: true\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: /*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"App-header\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          className: \"btn-record\",\n          onClick: () => {\n            this.state.isRecording ? this.stop() : this.start();\n          },\n          children: this.state.isRecording ? /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \" Stop\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \" Record Audio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n          src: this.state.blobURL,\n          controls: \"controls\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Record;","map":{"version":3,"names":["React","MicRecorder","Button","Mp3Recorder","bitRate","Record","Component","constructor","props","start","state","isBlocked","console","log","then","setState","isRecording","catch","e","error","stop","getMp3","buffer","blob","blobURL","URL","createObjectURL","componentDidMount","navigator","getUserMedia","audio","render"],"sources":["C:/Users/Huda/Downloads/client/src/Record.js"],"sourcesContent":["import React from \"react\";\r\nimport MicRecorder from \"mic-recorder-to-mp3\";\r\nimport { Button } from \"reactstrap\";\r\n\r\nconst Mp3Recorder = new MicRecorder({ bitRate: 128 });\r\n\r\nclass Record extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isRecording: false,\r\n      blobURL: \"\",\r\n      isBlocked: false,\r\n    };\r\n  }\r\n  \r\n  start = () => {\r\n    if (this.state.isBlocked) {\r\n      console.log(\"Permission Denied\");\r\n    } else {\r\n      Mp3Recorder.start()\r\n        .then(() => {\r\n          this.setState({ isRecording: true });\r\n        })\r\n        .catch((e) => console.error(e));\r\n    }\r\n  };\r\n\r\n  stop = () => {\r\n    Mp3Recorder.stop()\r\n      .getMp3()\r\n      .then(([buffer, blob]) => {\r\n        const blobURL = URL.createObjectURL(blob);\r\n        this.setState({ blobURL, isRecording: false });\r\n      })\r\n      .catch((e) => console.log(e));\r\n  };\r\n\r\n  componentDidMount() {\r\n    navigator.getUserMedia(\r\n      { audio: true },\r\n      () => {\r\n        console.log(\"Permission Granted\");\r\n        this.setState({ isBlocked: false });\r\n      },\r\n      () => {\r\n        console.log(\"Permission Denied\");\r\n        this.setState({ isBlocked: true });\r\n      }\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <header className=\"App-header\">\r\n          <Button\r\n            className=\"btn-record\"\r\n            onClick={() => {\r\n              this.state.isRecording ? this.stop() : this.start();\r\n            }}\r\n          >\r\n            {this.state.isRecording ? (\r\n              <span> Stop</span>\r\n            ) : (\r\n              <span> Record Audio</span>\r\n            )}\r\n          </Button>\r\n\r\n          <audio src={this.state.blobURL} controls=\"controls\" />\r\n        </header>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Record;\r\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,qBAAxB;AACA,SAASC,MAAT,QAAuB,YAAvB;;AAEA,MAAMC,WAAW,GAAG,IAAIF,WAAJ,CAAgB;EAAEG,OAAO,EAAE;AAAX,CAAhB,CAApB;;AAEA,MAAMC,MAAN,SAAqBL,KAAK,CAACM,SAA3B,CAAqC;EACnCC,WAAW,CAACC,KAAD,EAAQ;IACjB,MAAMA,KAAN;;IADiB,KASnBC,KATmB,GASX,MAAM;MACZ,IAAI,KAAKC,KAAL,CAAWC,SAAf,EAA0B;QACxBC,OAAO,CAACC,GAAR,CAAY,mBAAZ;MACD,CAFD,MAEO;QACLV,WAAW,CAACM,KAAZ,GACGK,IADH,CACQ,MAAM;UACV,KAAKC,QAAL,CAAc;YAAEC,WAAW,EAAE;UAAf,CAAd;QACD,CAHH,EAIGC,KAJH,CAIUC,CAAD,IAAON,OAAO,CAACO,KAAR,CAAcD,CAAd,CAJhB;MAKD;IACF,CAnBkB;;IAAA,KAqBnBE,IArBmB,GAqBZ,MAAM;MACXjB,WAAW,CAACiB,IAAZ,GACGC,MADH,GAEGP,IAFH,CAEQ,QAAoB;QAAA,IAAnB,CAACQ,MAAD,EAASC,IAAT,CAAmB;QACxB,MAAMC,OAAO,GAAGC,GAAG,CAACC,eAAJ,CAAoBH,IAApB,CAAhB;QACA,KAAKR,QAAL,CAAc;UAAES,OAAF;UAAWR,WAAW,EAAE;QAAxB,CAAd;MACD,CALH,EAMGC,KANH,CAMUC,CAAD,IAAON,OAAO,CAACC,GAAR,CAAYK,CAAZ,CANhB;IAOD,CA7BkB;;IAEjB,KAAKR,KAAL,GAAa;MACXM,WAAW,EAAE,KADF;MAEXQ,OAAO,EAAE,EAFE;MAGXb,SAAS,EAAE;IAHA,CAAb;EAKD;;EAwBDgB,iBAAiB,GAAG;IAClBC,SAAS,CAACC,YAAV,CACE;MAAEC,KAAK,EAAE;IAAT,CADF,EAEE,MAAM;MACJlB,OAAO,CAACC,GAAR,CAAY,oBAAZ;MACA,KAAKE,QAAL,CAAc;QAAEJ,SAAS,EAAE;MAAb,CAAd;IACD,CALH,EAME,MAAM;MACJC,OAAO,CAACC,GAAR,CAAY,mBAAZ;MACA,KAAKE,QAAL,CAAc;QAAEJ,SAAS,EAAE;MAAb,CAAd;IACD,CATH;EAWD;;EAEDoB,MAAM,GAAG;IACP,oBACE;MAAK,SAAS,EAAC,KAAf;MAAA,uBACE;QAAQ,SAAS,EAAC,YAAlB;QAAA,wBACE,QAAC,MAAD;UACE,SAAS,EAAC,YADZ;UAEE,OAAO,EAAE,MAAM;YACb,KAAKrB,KAAL,CAAWM,WAAX,GAAyB,KAAKI,IAAL,EAAzB,GAAuC,KAAKX,KAAL,EAAvC;UACD,CAJH;UAAA,UAMG,KAAKC,KAAL,CAAWM,WAAX,gBACC;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QADD,gBAGC;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QATJ;UAAA;UAAA;UAAA;QAAA,QADF,eAcE;UAAO,GAAG,EAAE,KAAKN,KAAL,CAAWc,OAAvB;UAAgC,QAAQ,EAAC;QAAzC;UAAA;UAAA;UAAA;QAAA,QAdF;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF;EAoBD;;AAnEkC;;AAsErC,eAAenB,MAAf"},"metadata":{},"sourceType":"module"}